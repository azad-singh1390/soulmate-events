<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soulmate Events Booking Form</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <nav class="navbar">
        <div class="nav-links">
            <a href="../index.html">Home</a>
            <!-- ðŸŽ¤ New Sound Setup Dropdown -->
            <div class="dropdown">
                <a href="#">Sound Setups â–¾</a>
                <div class="dropdown-content">
                    <a href="../Sound Setups/Haldi/Haldi.html">Haldi</a>
                    <a href="../Sound Setups/Cocktail/Cocktail.html">Cocktail</a>
                    <a href="../Sound Setups/Wedding/Wedding.html">Wedding</a>
                    <a href="../Sound Setups/AfterParty/AfterPatrty.html">After Party</a>
                    <a href="../Sound Setups/LiveBand/LiveBand.html">Live Band</a>
                    <a href="../Sound Setups/Corporate/Corporate.html">Corporate</a>
                    <a href="../Sound Setups/BigSound/BigSound.html">Big Sound Setups</a>
                    <a href="../Sound Setups/Reels/Reel.html">Reels</a>
                </div>
            </div>

            <!-- ðŸŽ¤ New Artist Dropdown -->
            <div class="dropdown">
                <a href="#">Artist â–¾</a>
                <div class="dropdown-content">
                    <a href="../Artist/Jockey/Jockey.html">Jockey</a>
                    <a href="../Artist/Dholies/Dholies.html">Dholies</a>
                    <a href="../Artist/Rajasthani Artist/Rajasthani.html">Rajasthani Artist</a>
                    <a href="../Artist/Flute Artist/Flute.html">Flute Artist</a>
                    <a href="../Artist/Indian Classical Artist/Classical.html">Indian Classical Artist</a>
                    <a href="../Artist/Bride Groom Artist/BrideGroom.html">Bride Groom Artists</a>
                </div>
            </div>
            <!-- ðŸŽ¤ New Artist Dropdown -->
            <div class="dropdown">
                <a href="#">Special Effects â–¾</a>
                <div class="dropdown-content">
                    <a href="../Special Effects/Sparkle Machine/SpecialEffects.html">Sparkle Machines</a>
                    <a href="../Special Effects/Bubble Machine/Bubble.html">Bubble Machine</a>
                    <a href="../Special Effects/Co2 Jets/Co2Jets.html">Co2 Jets</a>
                    <a href="../Special Effects/Co2 Gun/Co2Gun.html">Co2 Gun</a>
                    <a href="../Special Effects/Low Fog/LowFog.html">Low Fog</a>
                    <a href="../Special Effects/Confeti Shower/Confeti.html">Confetti Shower</a>
                    <a href="../Special Effects/Flower Shower/Flower.html">Flower Shower</a>
                    <a href="../Special Effects/Cold Pyros/ColdPyros.html">Cold Pyros</a>
                    <a href="../Special Effects/Pyro Gun/PyroGun.html">Pyro Guns</a>
                    <a href="../Special Effects/Color Shots/ColorShots.html">Color Shots</a>
                    <a href="../Special Effects/ATV Bike/Atv.html">ATV Bike</a>
                    <a href="../Special Effects/Laser Light/Laser.html">Laser Light</a>
                </div>
            </div>

            <a href="../Booking Form/Booking.html">Book Event</a>
            <a href="../View Form/View.html">View Bookings</a>
            <a href="../Contact Form/Contact.html">Contact Us</a>

        </div>
    </nav>

    <br><br><br>
    <div class="form-container">
    
<form id="bookingForm">
    <label>Client Name</label>
    <input type="text" name="clientname" placeholder="Enter Client Name" required>

    <label>Client Number</label>
    <input type="text" name="clientNumber" placeholder="Enter Client Number" required>

    <label>Date Of Event</label>
    <input type="date" name="eventDate" required>

    <label>Time Of Event</label>
    <input type="time" name="eventTime" required>

    <label>Event</label>
    <select name="eventType" required>
        <option value="" disabled selected hidden>Select Event</option>
        <option>Birthday</option>
        <option>Anniversary</option>
        <option>Engagement</option>
        <option>Sangeet</option>
        <option>Ring Ceremony</option>
        <option>Roka Ceremony</option>
        <option>Wedding</option>
        <option>Destination Wedding</option>
        <option>Corporate</option>
        <option>Get Together</option>
        <option>Other</option>
    </select>

    <label>Venue</label>
    <select name="venue" required>
        <option value="" disabled selected hidden>Select Venue</option>
        <option>Noor Mahal</option>
        <option>Amani farms</option>
        <option>Rutba</option>
        <option>Eden</option>
        <option>Prem Plaza</option>
        <option>Jewels</option>
        <option>Other</option>
    </select>

    <label> Upload Pdf</label>
    <input type="file" name="pdfUpload" accept=".pdf">
    
    <label>Total Amount</label>
    <input type="text" name="totalAmount" placeholder="Enter Booking Amount" required>

    <label>Advance Received</label>
    <input type="text" name="advanceReceived" placeholder="Enter Advance Received" required>

    <label>Advance Received by</label>
    <select name="receivedBy" required>
        <option value="" disabled selected hidden>Select Name</option>
        <option>Azad Sandhu</option>
        <option>Palki</option>
        <option>Uday Maan</option>
        <option>Ashwini</option>
        <option>Other</option>
    </select>

    <button type="submit">Submit</button>
</form>

<script>
    async function submitBookingForm(event) {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        try {
            const response = await fetch('https://soulmate-backend-production.up.railway.app/book-event', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            const result = await response.json();

            if (result.message === "Success") {
                // âœ… Clear the form
                form.reset();

                // âœ… Redirect after short delay (optional)
                setTimeout(() => {
                    window.location.href = "../thankyou.html";
                }, 500);
            } else {
                alert("Booking failed: " + (result.message || "Unknown error"));
            }
        } catch (err) {
            alert("Booking failed: " + err.message);
        }
    }

    document.querySelector('#bookingForm').addEventListener('submit', submitBookingForm);
</script>
</body>

</html>