<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soulmate Events Booking Form</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <nav class="navbar">
        <div class="nav-links">
            <a href="../index.html">Home</a>
            <a href="Booking.html">Book Event</a>
            <a href="../View Form/View.html">View Bookings</a>
            <a href="#">Events</a>
            <a href="../Contact Form/Contact.html">Contact Us</a>
        </div>
    </nav>
    <br><br><br>
    <div class="form-container">
        <!-- <h2>Please Fill Details</h2> -->
        <form action="https://soulmate-backend-production.up.railway.app/book-event" method="POST">
            <label>Client Name</label>
            <input type="text" name="clientname" placeholder="Enter Client Name" required>

            <label>Client Number</label>
            <input type="text" name="clientNumber" placeholder="Enter Client Number" required>

            <label>Date Of Event</label>
            <input type="date" name="eventDate" required>

            <label>Event</label>
            <select name="eventType" required>
                <option value="" disabled selected hidden>Select Event</option>
                <option>Birthday</option>
                <option>Anniversary</option>
                <option>Engagement</option>
                <option>Sangeet</option>
                <option>Ring Ceremony</option>
                <option>Roka Ceremony</option>
                <option>Wedding</option>
                <option>Corporate</option>
                <option>Get Together</option>
                <option>Other</option>

            </select>

            <label>Venue</label>
            <select name="venue" required>
                <option value="" disabled selected hidden>Select Venue</option>
                <option>Noor Mahal</option>
                <option>Amani farms</option>
                <option>Rutba</option>
                <option>Eden</option>
                <option>Prem Plaza</option>
                <option>Jewels</option>
                <option>Other</option>
            </select>

            <label>Total Amount</label>
            <input type="text" name="totalAmount" placeholder="Enter Booking Amount" required>

            <label>Advance Received</label>
            <input type="text" name="advanceReceived" placeholder="Enter Advance Received" required>

            <label>Advance Recieved by</label>
            <select name="receivedBy" required>
                <option value="" disabled selected hidden>Select Name</option>
                <option>Azad Sandhu</option>
                <option>Palki</option>
                <option>Uday Maan</option>
                <option>Ashwini</option>
                <option>Other</option>
            </select>

            <button type="submit">Submit</button>
        </form>
    </div>
    <script>
        async function submitBookingForm(event) {
            event.preventDefault();

            // Collect form data (example, adjust as needed)
            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                const response = await fetch('https://soulmate-backend-production.up.railway.app/book-event', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                // Try to parse JSON
                const result = await response.json();

                if (result.message === "Success") {
                    window.location.href = "../thankyou.html";
                } else {
                    alert("Booking failed: " + (result.message || "Unknown error"));
                }
            } catch (err) {
                alert("Booking failed: " + err.message);
            }
        }

        document.querySelector('form').addEventListener('submit', submitBookingForm);
    </script>
</body>

</html>